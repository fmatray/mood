 {% from "helpers/confirm.html" import confirm as confirm %}

{% macro renderlist(item, i) %}
{% if  i%3 ==0 %}
	<div class="row">
 {% endif %}
	<div class="col-md-4">
		<ul class="list-group">
			<li class="list-group-item">
			{%if badge %}
				<span class="badge">{{ item[badge]|length }}</span>
			{% endif %}
			{% for field in fields %}
				{% if field != "id" %}
					<strong>{{ field | title }}</strong> : 
					{% if field == "date" %}
						{{ item[field] | humanize('naturaldate') }} 
					{% else %}
						{{ item[field] |safe | capitalize | truncate(20) }} 
					{% endif %}
					<br>
				{% endif %}
			{% endfor %}
			<br>
			<div class="btn-group" role="group">
				<a href="{{editurl}}/view/{{ item['id'] }}" role="button" type="button" class="btn btn-default">View</a>
				<a href="{{editurl}}/edit/{{ item['id'] }}" role="button" type="button" class="btn btn-default">Edit</a>
				{{ confirm(editurl, item['id']) }}
			</div>
			</li>
		</ul>
	</div>
{% if i %3 == 2 %}
	</div>
{% endif %}
{% endmacro %}
 
 
 {% extends "base.html" %}
 {% block content %} 
	<div class="container">
	{{ super() }}
				{% set i = 0 %}
				{% for item in list %}
					{% set i = loop.index-1 %}
					{{  renderlist(item, i) }}
				{% endfor %}
				{% if (i%3) < 2 %}
					</div>
				{% endif %}
	</div>
 {% endblock %}